
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="CSS/formgrid.css">
  <title>CSS Grid Form</title>
</head>
<body>
   <div class="container">
   <!-- The form -->
      <form action="get">
         <fieldset>
            <legend>Web Dev Skills!</legend>
            <div class="formgrid">
            <!-- name -->
               <input type="text" id="name" name="full_name" required placeholder="John Doe">
               <label for="name">Name</label>
               <input type="email" id="email" name="email" required placeholder="name@server.com">
               <label for="email">Email</label>
               <!-- password with alphanumeric only
               By using a title attribute to describe the expected data input and a pattern attribute with a regex pattern, we can pretty much validate against anything we want. -->
               <input id="alpha" type="text" pattern="[a-zA-Z0-9]+" title="Only alphanumeric characters allowed" required placeholder="alphanumeric only">     
              <label for="alpha">Password</label>
            <!-- experience options -->
               <select name="experience" id="experience" required>
                  <option value="1">1 year or less</option>
                  <option value="2">2 years</option>
                  <option value="3">3-4 years</option>
                  <option value="5">5 years or more</option>
               </select>
               <label for="experience">Experience</label>
            <!-- skills -->
            <input type="checkbox" id="html" name="html" >
            <label for="html">HTML</label>
            <input type="checkbox" id="css" name="css">
            <label for="css">CSS</label>
            <input type="checkbox" id="javascript" name="javascript">
            <label for="javascript">JavaScript</label>
           <!-- other skills -->
            <textarea    id="otherSkills" name="otherSkills"></textarea>
            <label for="otherSkills">Other Skills</label>
          <!-- submit form -->
            <button type="submit">Submit</button>
            </div>
         </fieldset>
      </form>
   </div>
   <!-- Script section -->
<script>
      
      // ADD CUSTOM FORM STYLES ON INVALID VALUES
      
        //Get all the inputs...
        const inputs = document.querySelectorAll('input, select, textarea');
         

         inputs.forEach(input => {
         //  Just before submit, the invalid event will fire, adding the css class 'error' on inputs.
         input.addEventListener(
            'invalid', 
            event => {
            input.classList.add("error");
         }, 
         false);
        // Remove the 'error' class when input is corrected
         input.addEventListener(
            'input',        //the input event fires when value of input/select/textarea changes
            event => {
               input.classList.remove("error");
            },
            false
         );

        // Optional: Check validity onblur
       // This On :invalid inputs, it will trigger the invalid event and add the .error class we programmed above.
               input.addEventListener('blur', (event) => {
                  input.checkValidity();
               });
         
         }); // end of main function


      // DISABLE SUBMIT BUTTON AFTER FIRST SUBMITTING 

      const form = document.querySelector('form');
      // disable the submit button first when submiting the form for the first time by setting the disabled attr
      form.addEventListener('submit', function() {
         this.querySelector('input[type="submit"]').setAttribute('disabled', 'disabled');
      }, false);
       
</script>
</body>
</html>